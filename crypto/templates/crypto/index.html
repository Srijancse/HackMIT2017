{% load static %}

<!DOCTYPE HTML>
<!--
	Spectral by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Cryptonite</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="{% static 'assets/css/main.css' %}" />
		<link rel="shortcut icon" type="image/png" href="{% static 'favicon.ico' %}"/>
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
	</head>
	<body class="landing">

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<!-- Banner -->
					<section id="banner">
						<div class="inner">
							{% if prediction == 1 %}
							<img src="{% static 'images/cgreen.png' %}" width=270 alt="" /><br/><br/><br/>
							<h2>Cryptonite</h2>
							<p>Using tweet sentiment analysis, we expect<br />
							Ethereum's price to <font style="color:#548235">increase</font> today to <font style="color:#548235">${{predictedValue}}</font>.</p>
							{% else %}
							<img src="{% static 'images/cred.png' %}" width=270 alt="" /><br/><br/><br/>
							<h2>Cryptonite</h2>
							<p>Using tweet sentiment analysis, we expect<br />
							Ethereum's price to <font style="color:#ff0000">decrease</font> to <font style="color:#ff0000">${{predictedValue}}</font>.</p>
							{% endif %}
						</div>
						<a href="#one" class="more scrolly">How it Works</a>
					</section>

				<!-- One -->
					<section id="one" class="wrapper style1 special">
						<div class="inner">
							<header class="major">
								<h2>Cryptonite uses ml and numerous apis<br />
								to generate its daily market prediction.</h2>
								<p>Through the analysis of people's tweets, we were able to develop a model that predicts how the price of Ethereum will change from day to day.</p>
							</header>
							<!--<ul class="icons major">
								<li><span class="icon fa-windows major style1"><span class="label">Lorem</span></span></li>
								<li><span class="icon fa-code major style2"><span class="label">Ipsum</span></span></li>
								<li><span class="icon fa-twitter major style3"><span class="label">Dolor</span></span></li>
							</ul>-->
						</div>
					</section>

				<!-- Two -->
					<section id="two" class="wrapper alt style2">
						<section class="spotlight">
							<div class="image" id="graphHolder"><div id="graph" style="width:100%;height:100%;"></div></div><div class="content">
								<h2>7 days of<br />
								Ethereum</h2>
								<p>The graph to the left displays the price of Ethereum over the last seven days (in USD). Due to its clear volatility, we believed its market swings to be heavily influenced by hope and fear.</p>
							</div>
						</section>
						<section class="spotlight">
							<div class="image" id="graphHolder2"><div id="graph2" style="width:100%;height:100%;"></div></div><div class="content">
									<h2>7 days of<br />
								human emotion</h2>
								<p>To test our theory, we produced the graph to the right - seven days of Ethereum tweet sentiments on a scale from 0-1 (with 0 being entirely negative, and 1 being entirely positive). The correlation with price is very strong, as R^2 is greater than 0.44. This suggests that tweet sentiment is a strong predictor of Ethereum pricing.</p>
							</div>
						</section>
					</section>

				<!-- Three -->
					<section id="three" class="wrapper style3 special">
						<div class="inner">
							<header class="major">
								<h2>How does it work?</h2>
								<p>Our project relies on the advanced capabilities of a number of web services to function.<br />
								Interested in learning more? Read below to understand each step of the process.</p>
							</header>
							<ul class="features">
								<li class="icon fa-smile-o">
									<h3>Market Prediction</h3>
									<p>Cryptonite anticipates market trends through the use of an advanced machine learning algorithm.</p>
								</li>
								<li class="icon fa-code">
									<h3>Dynamic Site</h3>
									<p>Cryptonite employs a Django back end to dynamically update as predictions change.</p>
								</li>
								<li class="icon fa-windows">
									<h3>2-class SVM</h3>
									<p>Cryptonite uses an SVM built with Azure's Machine Learning Studio to identify tweet sentiment.</p>
								</li>
								<li class="icon fa-windows">
									<h3>Private API</h3>
									<p>Cryptonite uses a private API powered by Azure's Web Service to access data efficiently.</p>
								</li>
								<li class="icon fa-btc">
									<h3>Crypto Tracking</h3>
									<p>Cryptonite accesses the World Coin Index's API to record the price of Ethereum over the last 90 days.</p>
								</li>
								<li class="icon fa-server">
									<h3>Accessible Anywhere</h3>
									<p>Cryptonite is available in the entire world through the power of Heroku's free hosting plan.</p>
								</li>
							</ul>
						</div>
					</section>

				<!-- CTA -->
				<!--
					<section id="cta" class="wrapper style4">
						<div class="inner">
							<header>
								<h2>Arcue ut vel commodo</h2>
								<p>Aliquam ut ex ut augue consectetur interdum endrerit imperdiet amet eleifend fringilla.</p>
							</header>
							<ul class="actions vertical">
								<li><a href="#" class="button fit special">Activate</a></li>
								<li><a href="#" class="button fit">Learn More</a></li>
							</ul>
						</div>
					</section>-->

				<!-- Footer -->
					<footer id="footer">
						<ul class="copyright">
							<li>&copy; TechSurfers - HackMIT 2017</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
						</ul>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="{% static 'assets/js/jquery.min.js' %}"></script>
			<script src="{% static 'assets/js/jquery.scrollex.min.js' %}"></script>
			<script src="{% static 'assets/js/jquery.scrolly.min.js' %}"></script>
			<script src="{% static 'assets/js/skel.min.' %}'"></script>
			<script src="{% static 'assets/js/util.js' %}"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="{% static 'assets/js/main.js' %}"></script>
      <script src="https://d3js.org/d3.v3.min.js"></script>
      <style>
			svg {
				fill: #affecd
			}
      path {
  fill: #dddddd;
  stroke-width: 2px;
}
path.domain {
	fill: none;
}
  text {
      fill: #dddddd
    }
      </style>
<script>
function drawGraph() {
d3.selectAll("svg > *").remove();
document.getElementById('graph').innerHTML = "";
	var m = [45, 80, 50, 80] // margins: top, left, bottom, right
      var w = document.getElementById('graphHolder').getBoundingClientRect().width - 100;
      var h = w/2 +50 - m[0] - m[2] // height
      console.log(w)
      console.log(h)

      var x_data = [0]
      for (i = 0; i < 90; i++) {
          x_data.push(i);
      }
			x_data.push(89)
			var y_data = [0]
      y_data = y_data.concat({{ethValues | safe}})
			y_data.push(0)
      console.log(x_data)
      console.log(y_data)
      var x = d3.scale.linear().domain([0, d3.max(x_data)]).range([0, w])
      var y = d3.scale.linear().domain([0, d3.max(y_data)]).range([h, 0])

      var line = d3.svg.line()
          .x(function(d, i) {
              return x(d)
          })
          .y(function(d, i) {
              return y(y_data[i])
          })

      var graph = d3.select("#graph").append("svg:svg")
          .attr("width", w + m[1] + m[3])
          .attr("height", h + m[0] + m[2])
          .append("svg:g")
          .attr("transform", "translate(" + m[3] + "," + m[0] + ")")

      // var xAxis = d3.svg.axis().scale(x).tickSize(-h).tickSubdivide(true);
      // graph.append("svg:g")
      //     .attr("class", "x axis")
      //     .attr("transform", "translate(0," + (h) + ")")
      //     .call(xAxis);

      // Add the y-axis
      var yAxisLeft = d3.svg.axis().scale(y).ticks(4).orient("left");
      graph.append("svg:g")
          .attr("class", "y axis")
          .attr("transform", "translate(-25,0)")
          .call(yAxisLeft);

      graph.append("svg:path").attr("d", line(x_data))
          .attr("stroke", "#ffffff")

					document.getElementById('graph2').innerHTML = "";
						var m = [45, 80, 50, 80] // margins: top, left, bottom, right
					      var w = document.getElementById('graphHolder2').getBoundingClientRect().width - 160;
					      var h = w/2 +50 - m[0] - m[2] // height
					      console.log(w)
					      console.log(h)

					      var x_data = [0]
					      for (i = 0; i < 7; i++) {
					          x_data.push(i);
					      }
								x_data.push(6)
								var y_data = [0.5, 0.6099,0.6047,0.6131,0.6068,0.60000,0.59214,0.605706]
								y_data.push(0.5)
					      console.log(x_data)
					      console.log(y_data)
					      var x = d3.scale.linear().domain([0, d3.max(x_data)]).range([0, w])
					      var y = d3.scale.linear().domain([d3.min(y_data), d3.max(y_data)]).range([h, 0])

					      var line = d3.svg.line()
					          .x(function(d, i) {
					              return x(d)
					          })
					          .y(function(d, i) {
					              return y(y_data[i])
					          })

					      var graph = d3.select("#graph2").append("svg:svg")
					          .attr("width", w + m[1] + m[3])
					          .attr("height", h + m[0] + m[2])
					          .append("svg:g")
					          .attr("transform", "translate(" + m[3] + "," + m[0] + ")")

					      // var xAxis = d3.svg.axis().scale(x).tickSize(-h).tickSubdivide(true);
					      // graph.append("svg:g")
					      //     .attr("class", "x axis")
					      //     .attr("transform", "translate(0," + (h) + ")")
					      //     .call(xAxis);

					      // Add the y-axis
					      var yAxisLeft = d3.svg.axis().scale(y).ticks(4).orient("left");
					      graph.append("svg:g")
					          .attr("class", "y axis")
					          .attr("transform", "translate(-25,0)")
					          .call(yAxisLeft);

					      graph.append("svg:path").attr("d", line(x_data))
					          .attr("stroke", "#ffffff")
};
window.onload = drawGraph();
window.addEventListener('resize', drawGraph);
</script>

	</body>
</html>
